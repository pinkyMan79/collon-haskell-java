# Colon Interpreter

**Colon** — это интерпретатор для языка программирования в стиле Forth. Он поддерживает стековые вычисления и выполняет команды с использованием стека. Этот интерпретатор был разработан для практики работы с функциональными языками и монадами в Haskell.

## Описание

Colon предоставляет базовые возможности для стековых вычислений с поддержкой команд для манипуляций со стеком, арифметических операций и условных конструкций. Программа реализует интерпретатор, который считывает команды и выполняет их одну за другой. Также поддерживается работа с переменными и константами, что расширяет возможности языка.

## Особенности

На данный момент поддерживаются следующие команды и функции:

### 1. Основные операции:
- **Push** — добавление числа в стек.
- **Add** — сложение двух верхних элементов стека.
- **Sub** — вычитание двух верхних элементов стека.
- **Mul** — умножение двух верхних элементов стека.
- **Div** — деление двух верхних элементов стека.
- **Mod** — остаток от деления двух верхних элементов стека.
- **And** — побитовое "И".
- **Or** — побитовое "ИЛИ".
- **Invert** — побитовое отрицание.
- **Drop** — удаление верхнего элемента из стека.
- **Dup** — дублирование верхнего элемента стека.
- **Swap** — обмен местами двух верхних элементов стека.
- **Over** — копирование второго элемента на верх стека.
- **Rot** — циклический сдвиг трех верхних элементов стека.

### 2. Работа с переменными и константами:
- **Variable** — объявление переменной.
- **Constant** — объявление константы.
- **Get** — получение значения переменной.
- **Set** — установка значения переменной.

### 3. Управление потоком:
- **DoLoop** — выполнение цикла с параметрами.
- **Loop** — завершение цикла.
- **I** — получение текущего значения индекса цикла.

### 4. Строки:
- **DotString** — добавление строки в стек.

### 5. Ввод и вывод:
- **Emit** — вывод символа на экран.
- **CR** — вывод символа новой строки.

## Степень реализации

### Полностью реализовано:
- Основные арифметические операции (Add, Sub, Mul, Div, Mod)
- Стековые операции (Push, Drop, Dup, Swap, Over, Rot)
- Побитовые операции (And, Or, Invert)
- Операции с переменными и константами (Variable, Constant, Get, Set)
- Команды для циклов (DoLoop, Loop, I)

### Частично реализовано:
- **Строки** — поддерживается только базовая работа с строками через команду `DotString`, но нет полноценной обработки строк в программе.

### Не реализовано:
- **Обработка ошибок** — пока нет полноценной обработки ошибок, в случае ошибок программа завершает выполнение.
- **Поддержка ввода с клавиатуры** — пока только вывод, ввод не реализован.

## Следующие фичи (после 21.12)

1. **Цикл BEGIN UNTIL (1)** — добавление поддержки цикла BEGIN UNTIL, который позволит организовать выполнение команд до тех пор, пока не выполнится условие.
2. **Массивы (2)** — добавление поддержки массивов для работы с несколькими значениями в одном блоке памяти.
3. **Компиляция (8)** — добавление функции компиляции, которая позволит преобразовывать команды в более эффективные или оптимизированные формы для выполнения.
4. **Пошаговая отладка** — добавление функциональности для пошаговой отладки, позволяя пользователю отслеживать текущий стек, память и словарь во время выполнения программы.

## Установка

Для того чтобы запустить интерпретатор, необходимо установить Haskell и собрать проект:

1. Установите Haskell через [GHC](https://www.haskell.org/ghc/).
2. Клонируйте репозиторий:
    ```bash
    git clone https://github.com/yourusername/colon-interpreter.git
    ```
3. Перейдите в каталог проекта:
    ```bash
    cd colon-interpreter
    ```
4. Скомпилируйте проект:
    ```bash
    stack build
    ```
5. Запустите интерпретатор:
    ```bash
    stack exec colon-interpreter
    ```

## Использование

После запуска интерпретатора вы можете вводить команды и выражения для выполнения. Например:

```bash
3 4 + .

